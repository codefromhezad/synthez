<!doctype html>
<html>
	<head>
		<meta charset="utf8">
		<title>SyntHez</title>

		<link rel="stylesheet" href="css/synthez.css" type="text/css" />
	</head>
	<body>

		<script src="Helper.js"></script>
		<script src="MusicHelper.js"></script>
		<script src="SynthezNodeTemplate.js"></script>
		<script src="SynthezNode.js"></script>
		<script src="core_nodes/ContainerNode.js"></script>
		<script src="core_nodes/OscillatorNode/OscillatorNode.js"></script>
		<script src="core_nodes/AudioOutputNode/AudioOutputNode.js"></script>

		<script>

			var root_container = SynthezNode.create_root_container_node();

			var osc = root_container.add_node('SineOscillatorNode');
			osc.set_position({top: '50px', left: '20px'});

			var out = root_container.add_node('AudioOutputNode');
			out.set_position({top: '50px', left: '320px'});

			SynthezNode.connect_nodes(osc, out);

			var melody = function() {
				osc.noteOn("A4", osc.audio_context.currentTime, osc.audio_context.currentTime + 0.5);
				osc.noteOn("C5", osc.audio_context.currentTime + 0.51, osc.audio_context.currentTime + 1);
				osc.noteOn("E5", osc.audio_context.currentTime + 1.01, osc.audio_context.currentTime + 1.5);
				osc.noteOn("G4", osc.audio_context.currentTime + 1.51, osc.audio_context.currentTime + 2);
			}

			melody();

		</script>
	</body>
</html>